<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="fd98b121-40a6-4fa6-90e0-122964a15567" activeEnvironment="Default" name="Loginbuddy-ConfigManagement" resourceRoot="" soapui-version="5.5.0" abortOnError="false" runType="SEQUENTIAL" xmlns:con="http://eviware.com/soapui/config"><con:settings/><con:testSuite id="4d057032-31bf-44cc-9a58-f3bc6c53233c" name="Config-Loginbuddy"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="9b16272d-a041-42d3-be24-2d678feb1fb9" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Get config" searchProperties="true"><con:settings/><con:testStep type="properties" name="token" id="ac150dd6-9f93-4da0-be9b-d1888cba18f2"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>access_token</con:name><con:value>eyJraWQiOiJjZjA0YTRmOC1mYzNmLTQyNjUtODFkNi1lZjQzZDhhOGJjNjUiLCJhbGciOiJSUzI1NiJ9.eyJpc3MiOiJodHRwczovL2xvY2FsLmxvZ2luYnVkZHkubmV0Iiwic3ViIjoiY2xpZW50SWRGb3JUZXN0aW5nTG9naW5idWRkeU1hbmFnZW1lbnQiLCJhdWQiOiJodHRwczovL2xvY2FsLmxvZ2luYnVkZHkubmV0IiwiZXhwIjoxNTg5NzY5OTk3LCJpYXQiOjE1ODk3Njk2OTcsImp0aSI6ImtjQVFXUzY3ajBBbHV4VzBadXRGR1EiLCJuYmYiOjE1ODk3Njk1NzcsInJlc291cmNlIjoiaHR0cHM6Ly9sb2NhbC5sb2dpbmJ1ZGR5Lm5ldC9tYW5hZ2VtZW50L2NvbmZpZ3VyYXRpb24iLCJzY29wZSI6Im1hbmFnZW1lbnQuY29uZmlndXJhdGlvbi5yZWFkLmNsaWVudHMgbWFuYWdlbWVudC5jb25maWd1cmF0aW9uLnJlYWQuZGlzY292ZXJ5IG1hbmFnZW1lbnQuY29uZmlndXJhdGlvbi5yZWFkLnByb3BlcnRpZXMgbWFuYWdlbWVudC5jb25maWd1cmF0aW9uLnJlYWQucHJvdmlkZXJzIiwibm9uY2UiOiJzb21lcmFuZG9tbm9uY2V2YWx1ZSIsImNsaWVudF9pZCI6ImNsaWVudElkRm9yVGVzdGluZ0xvZ2luYnVkZHlNYW5hZ2VtZW50In0.L8s7CqGUgPN2F2IjpygdI9xe6ghFRzdWpmjP6d0VXucVK8MnyAxvGU-aeEiC0IZooXVlBGy6HqXynawfPttO7CF40rGIXuvG1uQSVVM5PZHLij7FLhI7jmykpotz_4vsIruDMHVgqcUh-m5yca5oJ9FIZafWD3q1oCcrKibNB2B9l9CuHTtzBFpkEk6cC4ha92wkbMphAXcpefnrbnqGTHANx_9CGGaCwVB7ztldQbs72V_9BgOhSVNt_xbBJMe-oFsuuOw_300NoR2jRpg_QfFMn7G0VNu_YxP3c_bULHuPOl9tNy6UzXnaSFrYdjONUn-timV00c0ocpLMF4YREg</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="httprequest" name="GetTestAccessToken" id="e18c74ba-4e93-4ff1-8827-f0346d5c2b08"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" id="e0a6163b-1a5f-4fc0-98be-504b16234f58" name="GetTestAccessToken" postQueryString="true" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding xsi:nil="true"/><con:endpoint>${#Project#host}${#Project#path_management_token}</con:endpoint><con:request/><con:assertion type="JsonPath Existence Match" id="2cb640ba-c2b4-42c5-bc2c-1101c36cfc91" name="contains: access_token"><con:configuration><path>$.access_token</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" id="db43710e-ad4e-4c10-961e-71b6f8e5ce1c" name="status: 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username>${#Project#client_id}</con:username><con:password>${#Project#client_secret}</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:preemptive>true</con:preemptive><con:authType>Preemptive</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>scope</con:name><con:value>${#Project#scope_read_clients} ${#Project#scope_read_providers} ${#Project#scope_read_discovery} ${#Project#scope_read_properties}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>nonce</con:name><con:value>somerandomnoncevalue</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>resource</con:name><con:value>${#Project#issuer}${#Project#path_management_configuration}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>grant_type</con:name><con:value>client_credentials</con:value><con:style>QUERY</con:style></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="transfer" name="MoveToken" id="c61b3304-dde7-4389-8bd1-4125913f0acd"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>access_token</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>GetTestAccessToken</con:sourceStep><con:sourcePath>$.access_token</con:sourcePath><con:targetType>access_token</con:targetType><con:targetStep>token</con:targetStep><con:type>JSONPATH</con:type><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="httprequest" name="ClientConfig-MissingType" id="d4ce3307-3217-429c-a22b-0c64db793960"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" id="1ea344a4-3864-462d-b2d9-4da991f13d52" name="ClientConfig-MissingType" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:description>missing type parameter</con:description><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#Project#host}${#Project#path_management_configuration}</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" id="6527b6a6-b6f4-4fec-af3e-718c37ea7fe7" name="status: 400"><con:configuration><codes>400</codes></con:configuration></con:assertion><con:assertion type="JsonPath RegEx Match" id="2d13340d-2ffb-4853-aa1f-f3aa98bf13e3" name="error: invalid_request"><con:configuration><path>error_description</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments><regEx>configuration type was not given or is not supported</regEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="httprequest" name="ClientConfig-UnknownType" id="3c486d09-3eb1-4a69-b88e-2e2b589bbd85"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" id="1ea344a4-3864-462d-b2d9-4da991f13d52" name="ClientConfig-UnknownType" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:description>missing type parameter</con:description><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#Project#host}${#Project#path_management_configuration}/unknown</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" id="6527b6a6-b6f4-4fec-af3e-718c37ea7fe7" name="status: 400"><con:configuration><codes>400</codes></con:configuration></con:assertion><con:assertion type="JsonPath RegEx Match" id="2d13340d-2ffb-4853-aa1f-f3aa98bf13e3" name="error: invalid_request"><con:configuration><path>error_description</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments><regEx>configuration type was not given or is not supported</regEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="httprequest" name="ClientConfig-MissingClientId" id="bc52b394-1b55-4c7e-b66e-3f60bce1feef"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" id="1ea344a4-3864-462d-b2d9-4da991f13d52" name="ClientConfig-MissingClientId" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:description>missing type parameter</con:description><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#access_token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>${#Project#host}${#Project#path_management_configuration}/clients</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" id="6527b6a6-b6f4-4fec-af3e-718c37ea7fe7" name="status: 400"><con:configuration><codes>400</codes></con:configuration></con:assertion><con:assertion type="JsonPath RegEx Match" id="2d13340d-2ffb-4853-aa1f-f3aa98bf13e3" name="error: invalid_request"><con:configuration><path>error_description</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments><regEx>required client_id was not given or was provided multiple times</regEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="httprequest" name="ClientConfig-UnknownClientId" id="e75c0f7e-28d8-4bca-9d98-b9239ee642e1"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" id="1ea344a4-3864-462d-b2d9-4da991f13d52" name="ClientConfig-UnknownClientId" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:description>missing type parameter</con:description><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#access_token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>${#Project#host}${#Project#path_management_configuration}/clients/anunknwonclientid</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" id="6527b6a6-b6f4-4fec-af3e-718c37ea7fe7" name="status: 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="httprequest" name="ClientConfig-MissingAccessToken" id="2fa8c9ad-613a-440e-a21b-da5c988a6d71"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" id="1ea344a4-3864-462d-b2d9-4da991f13d52" name="ClientConfig-MissingAccessToken" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:description>missing type parameter</con:description><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#Project#host}${#Project#path_management_configuration}/clients/${#Project#client_id}</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" id="6527b6a6-b6f4-4fec-af3e-718c37ea7fe7" name="status: 400"><con:configuration><codes>400</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="11b68009-f442-486f-a64c-295b52ab0862" name="error_missing or multiple access_token"><con:configuration><path>$.error_description</path><content>Invalid authorization header, no or multiple access_token found!</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="httprequest" name="ClientConfig-InvalidAccessToken" id="2f52df4d-e082-4f19-8287-3023a63be7b0"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" id="1ea344a4-3864-462d-b2d9-4da991f13d52" name="ClientConfig-InvalidAccessToken" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:description>missing type parameter</con:description><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="authorization" value="Bearer inv.alidt.oken" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>${#Project#host}${#Project#path_management_configuration}/clients/${#Project#client_id}</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" id="6527b6a6-b6f4-4fec-af3e-718c37ea7fe7" name="status: 400"><con:configuration><codes>400</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="11b68009-f442-486f-a64c-295b52ab0862" name="error: invalid access_token"><con:configuration><path>$.error_description</path><content>Invalid access_token!</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="httprequest" name="ClientConfig-InvalidAuthScheme" id="2fe92757-01c8-4750-846f-1673d7c43112"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" id="1ea344a4-3864-462d-b2d9-4da991f13d52" name="ClientConfig-InvalidAuthScheme" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:description>missing type parameter</con:description><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="authorization" value="Mac inv.alidt.oken" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>${#Project#host}${#Project#path_management_configuration}/clients/${#Project#client_id}</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" id="6527b6a6-b6f4-4fec-af3e-718c37ea7fe7" name="status: 400"><con:configuration><codes>400</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="11b68009-f442-486f-a64c-295b52ab0862" name="error: invalid authorization content"><con:configuration><path>$.error_description</path><content>Invalid authorization header, it includes an unsupported scheme or otherwise invalid content!</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="httprequest" name="ClientConfig" id="6341cd38-acb7-4d97-a08c-e8229a222382"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" id="1ea344a4-3864-462d-b2d9-4da991f13d52" name="ClientConfig" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:description>missing type parameter</con:description><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#access_token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>${#Project#host}${#Project#path_management_configuration}/clients/${#Project#client_id}</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" id="6527b6a6-b6f4-4fec-af3e-718c37ea7fe7" name="status: 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="11b68009-f442-486f-a64c-295b52ab0862" name="client_id: the given one"><con:configuration><path>$.client_id</path><content>${#Project#client_id}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="5334fcee-97bf-4f1e-9014-dbf9febbb2de" name="client_secret: hidden"><con:configuration><path>client_secret</path><content>myFancyAndSecureClientSecret</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Count" id="20c43165-3e1f-456b-9efd-1b1b30280e2f" name="count clients: 1"><con:configuration><path>$..client_id</path><content>1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="httprequest" name="ClientConfig-All" id="31ba1f6a-7cb7-452a-b197-34201a16201a"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" id="1ea344a4-3864-462d-b2d9-4da991f13d52" name="ClientConfig-All" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:description>missing type parameter</con:description><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#access_token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>${#Project#host}${#Project#path_management_configuration}/clients/all</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" id="6527b6a6-b6f4-4fec-af3e-718c37ea7fe7" name="status: 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Count" id="d703b774-f3fc-4b2f-a23d-8f5a4ee6bad4" name="count clients: 4"><con:configuration><path>$..client_id</path><content>4</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="httprequest" name="ProviderConfig-UnknownProvider" id="8028d8d1-3c97-45b8-87d1-252762b85fd5"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" id="1ea344a4-3864-462d-b2d9-4da991f13d52" name="ProviderConfig-UnknownProvider" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:description>missing type parameter</con:description><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#access_token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>${#Project#host}${#Project#path_management_configuration}/providers/unknownprovider</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" id="6527b6a6-b6f4-4fec-af3e-718c37ea7fe7" name="status: 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>provider</con:name><con:value>unknown</con:value><con:style>QUERY</con:style></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="ProviderConfig" id="9fdd855f-9968-4b2b-a3be-611dd8d77929"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" id="1ea344a4-3864-462d-b2d9-4da991f13d52" name="ProviderConfig" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:description>missing type parameter</con:description><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="bearer ${#access_token}" xmlns="http://eviware.com/soapui/config"/></con:setting><con:setting id="com.eviware.soapui.impl.support.AbstractHttpRequest@follow-redirects">true</con:setting></con:settings><con:endpoint>${#Project#host}${#Project#path_management_configuration}/providers/${#Project#provider}</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" id="6527b6a6-b6f4-4fec-af3e-718c37ea7fe7" name="status: 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="11b68009-f442-486f-a64c-295b52ab0862" name="provider: the given one"><con:configuration><path>$.provider</path><content>${#Project#provider}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="Simple NotContains" id="b1c12c32-5c6f-4069-93bd-5955047c45e8" name="No: mappingsAsJson"><con:configuration><token>mappingsAsJson</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="httprequest" name="ProviderConfig-all" id="807b2068-2236-44d8-92e7-e9ae02b5545b"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" id="1ea344a4-3864-462d-b2d9-4da991f13d52" name="ProviderConfig-all" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:description>missing type parameter</con:description><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="bearer ${#access_token}" xmlns="http://eviware.com/soapui/config"/></con:setting><con:setting id="com.eviware.soapui.impl.support.AbstractHttpRequest@follow-redirects">true</con:setting></con:settings><con:endpoint>${#Project#host}${#Project#path_management_configuration}/providers/all</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" id="6527b6a6-b6f4-4fec-af3e-718c37ea7fe7" name="status: 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple NotContains" id="b1c12c32-5c6f-4069-93bd-5955047c45e8" name="No: mappingsAsJson"><con:configuration><token>mappingsAsJson</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple NotContains" id="e5ca9686-e02b-4abb-9791-e077b98e66e2" name="Not Contains: providerType"><con:configuration><token>providerType</token><ignoreCase>true</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="JsonPath Count" id="d2f81a07-1064-47ba-8722-e58573863cba" name="count issuers: 4"><con:configuration><path>$..issuer</path><content>4</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="httprequest" name="DiscoveryConfig" id="7bcf3817-3c24-47d2-a41f-57b1fe4b25dd"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" id="1ea344a4-3864-462d-b2d9-4da991f13d52" name="DiscoveryConfig" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:description>missing type parameter</con:description><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="authorization" value="Bearer ${#access_token}" xmlns="http://eviware.com/soapui/config"/></con:setting><con:setting id="com.eviware.soapui.impl.support.AbstractHttpRequest@follow-redirects">true</con:setting></con:settings><con:endpoint>${#Project#host}${#Project#path_management_configuration}/discovery</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" id="6527b6a6-b6f4-4fec-af3e-718c37ea7fe7" name="status: 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Count" id="f420d471-0a73-4972-bf33-4198cafb5601" name="count keys: 16"><con:configuration><path>$.*</path><content>16</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="httprequest" name="PropertiesConfig" id="36f5fa03-7c77-4542-b6db-444e46689f2a"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" id="1ea344a4-3864-462d-b2d9-4da991f13d52" name="PropertiesConfig" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:description>missing type parameter</con:description><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="authoriZation" value="beaRER ${#access_token}" xmlns="http://eviware.com/soapui/config"/></con:setting><con:setting id="com.eviware.soapui.impl.support.AbstractHttpRequest@follow-redirects">true</con:setting></con:settings><con:endpoint>${#Project#host}${#Project#path_management_configuration}/properties</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" id="6527b6a6-b6f4-4fec-af3e-718c37ea7fe7" name="status: 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="475114db-964e-4f3b-88cd-8c417b9f1877" name="contains: lifetime_proxy_userinfo"><con:configuration><path>lifetime_proxy_userinfo</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Count" id="2495fe6b-2b8b-49d8-9e33-485bd960a7e7" name="count properties: 4"><con:configuration><path>$.*</path><content>5</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="ae0a8285-149d-4d5a-8866-dfeffb38c8a7" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Post Config" searchProperties="true"><con:settings/><con:testStep type="properties" name="token" id="695ef15d-a60a-479b-a483-1e3c02ce50db"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>access_token</con:name><con:value>eyJraWQiOiJjZjA0YTRmOC1mYzNmLTQyNjUtODFkNi1lZjQzZDhhOGJjNjUiLCJhbGciOiJSUzI1NiJ9.eyJpc3MiOiJodHRwczovL2xvY2FsLmxvZ2luYnVkZHkubmV0Iiwic3ViIjoiY2xpZW50SWRGb3JUZXN0aW5nTG9naW5idWRkeU1hbmFnZW1lbnQiLCJhdWQiOiJodHRwczovL2xvY2FsLmxvZ2luYnVkZHkubmV0IiwiZXhwIjoxNTg5NzY5OTk3LCJpYXQiOjE1ODk3Njk2OTcsImp0aSI6IjJOTW94UjIyZFEzckdTZ016eEcxWWciLCJuYmYiOjE1ODk3Njk1NzcsInJlc291cmNlIjoiaHR0cHM6Ly9sb2NhbC5sb2dpbmJ1ZGR5Lm5ldC9tYW5hZ2VtZW50L2NvbmZpZ3VyYXRpb24iLCJzY29wZSI6Im1hbmFnZW1lbnQuY29uZmlndXJhdGlvbi5yZWFkLmNsaWVudHMgbWFuYWdlbWVudC5jb25maWd1cmF0aW9uLndyaXRlIiwibm9uY2UiOiJzb21lcmFuZG9tbm9uY2V2YWx1ZSIsImNsaWVudF9pZCI6ImNsaWVudElkRm9yVGVzdGluZ0xvZ2luYnVkZHlNYW5hZ2VtZW50In0.Dp0-7DOv3c6uWCHn8WshSmnSo_RTYOSyZ4_DWxfIrCTIlUJy4SwpJaz6ouCwKv9v_iy53BB14IBj0ja7FFpJZzfw3yaih9b9rWZgPLRUBoUA6foxieTID21Izpw0UQZDG7TJWvliXss1V67eJ4M8m0rzI0ncPqqsEA4W4KrxWEGGuyTSh9vu-G6sCE_Co_EaFRJcYV2OCUd00oevPfbywqKyvJ4W80wz0rAUtVpJ_debqH7rHWlB1qEwwiFzDucplhcox0nA3-ETOM7ptGUYWYwsix-bcUiDWjzb2lyGnhuWqUw_4XuzH-EfPBidvIsgkbpQwDTR1mSM8_EDHUoZ-g</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="httprequest" name="GetTestAccessToken" id="5f1ef817-7c2a-4979-a2be-ee94147b6213"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" id="e0a6163b-1a5f-4fc0-98be-504b16234f58" name="GetTestAccessToken" postQueryString="true" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding xsi:nil="true"/><con:endpoint>${#Project#host}${#Project#path_management_token}</con:endpoint><con:request/><con:assertion type="JsonPath Existence Match" id="2cb640ba-c2b4-42c5-bc2c-1101c36cfc91" name="contains: access_token"><con:configuration><path>$.access_token</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" id="db43710e-ad4e-4c10-961e-71b6f8e5ce1c" name="status: 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple NotContains" id="46fa898e-6db6-49de-8ea6-13cf3fcaddcd" name="not contain scope: unknown"><con:configuration><token>unknown</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:username>${#Project#client_id}</con:username><con:password>${#Project#client_secret}</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:preemptive>true</con:preemptive><con:authType>Preemptive</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>scope</con:name><con:value>${#Project#scope_write} unknown ${#Project#scope_read_clients}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>nonce</con:name><con:value>somerandomnoncevalue</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>resource</con:name><con:value>${#Project#issuer}${#Project#path_management_configuration}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>grant_type</con:name><con:value>client_credentials</con:value><con:style>QUERY</con:style></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="transfer" name="MoveToken" id="94b793a1-3e3b-4f1f-8cfe-d68f604a074c"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>access_token</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>GetTestAccessToken</con:sourceStep><con:sourcePath>$.access_token</con:sourcePath><con:targetType>access_token</con:targetType><con:targetStep>token</con:targetStep><con:type>JSONPATH</con:type><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="httprequest" name="ClientConfig-All" id="f7121124-9eef-43c8-847a-5d9831a1125a"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" id="1ea344a4-3864-462d-b2d9-4da991f13d52" name="ClientConfig-All" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:description>Getting all clients to restore them afterwards</con:description><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#access_token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>${#Project#host}${#Project#path_management_configuration}/clients/all</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" id="6527b6a6-b6f4-4fec-af3e-718c37ea7fe7" name="status: 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Count" id="d703b774-f3fc-4b2f-a23d-8f5a4ee6bad4" name="count clients: 4"><con:configuration><path>$..client_id</path><content>4</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="transfer" name="Clients" id="19c46447-5b3b-49f8-8d6d-4d6e5a9d34c7"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>clients</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>ClientConfig-All</con:sourceStep><con:targetType>Request</con:targetType><con:targetStep>RestoreClients</con:targetStep><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="httprequest" name="ReplaceClients" id="5ac5880b-3afd-41cb-aa94-6eb8c1a7f645"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" id="eac7ca65-e5e9-47de-9cb7-74dc73cba5c4" name="ReplaceClients" postQueryString="false" mediaType="application/json" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#access_token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>${#Project#host}${#Project#path_management_configuration}/clients</con:endpoint><con:request>[
    {
      "client_id": "clientIdForTestingPurposes",
      "client_type": "public",
      "client_uri": "https://democlient.loginbuddy.net",
      "redirect_uri": "https://democlient.loginbuddy.net/callback,https://local.soapui.com/redirect,https://democlient.loginbuddy.net/spa.html",
      "providers": [
        "server_loginbuddy",
        "self-issued",
        "server_dynamic"
      ],
      "accept_dynamic_provider": true
    }
  ]</con:request><con:assertion type="Valid HTTP Status Codes" id="c195f3d2-524c-4683-95f2-6965e7a24353" name="status: 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Count" id="2b986ce0-969b-461f-83c1-23813db82fbe" name="count clients: 2"><con:configuration><path>$..client_id</path><content>2</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="httprequest" name="RestoreClients" id="f686950e-ce7c-4beb-968a-8b58bb3ac8c3"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" id="eac7ca65-e5e9-47de-9cb7-74dc73cba5c4" name="RestoreClients" postQueryString="false" mediaType="application/json" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${#access_token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>${#Project#host}${#Project#path_management_configuration}/clients</con:endpoint><con:request>[{"redirect_uri":"https://democlient.loginbuddy.net/callback,https://local.soapui.com/redirect,https://democlient.loginbuddy.net/spa.html","client_id":"clientIdForTestingPurposes","client_type":"public","client_uri":"https://democlient.loginbuddy.net","providers":["server_loginbuddy","self-issued","server_dynamic"],"accept_dynamic_provider":true},{"redirect_uri":"https://democlient.loginbuddy.net/callback,https://local.soapui.com/redirect","client_id":"clientIdForTestingPurposesJwt","client_type":"public","client_uri":"https://democlient.loginbuddy.net","providers":["server_loginbuddy","self-issued","server_dynamic"],"accept_dynamic_provider":true,"signed_response_alg":"RS256"},{"redirect_uri":"https://democlient.loginbuddy.net/callback,https://local.soapui.com/redirect","client_id":"clientIdForTestingPurposesConfidential","client_type":"confidential","client_uri":"https://democlient.loginbuddy.net","client_secret":"myFancyAndSecureClientSecret","providers":["server_loginbuddy","not_for_public_client","server_dynamic"],"accept_dynamic_provider":false},{"redirect_uri":"https://local.loginbuddy.net/management/callback,https://local.soapui.com/redirect","client_id":"clientIdForTestingLoginbuddyManagement","client_type":"confidential","client_uri":"https://local.loginbuddy.net","client_secret":"myFancyAndSecureClientSecret","providers":["loginbuddy"],"accept_dynamic_provider":false}]
</con:request><con:assertion type="Valid HTTP Status Codes" id="c195f3d2-524c-4683-95f2-6965e7a24353" name="status: 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Count" id="40341366-cd66-4471-8ca1-9f0867207781" name="count clients: 4"><con:configuration><path>$..client_id</path><content>4</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:properties><con:property><con:name>host</con:name><con:value>https://local.loginbuddy.net</con:value></con:property><con:property><con:name>path_management_configuration</con:name><con:value>/management/configuration</con:value></con:property><con:property><con:name>path_management_token</con:name><con:value>/management/token</con:value></con:property><con:property><con:name>client_id</con:name><con:value>clientIdForTestingLoginbuddyManagement</con:value></con:property><con:property><con:name>client_secret</con:name><con:value>myFancyAndSecureClientSecret</con:value></con:property><con:property><con:name>scope_write</con:name><con:value>management.configuration.write</con:value></con:property><con:property><con:name>scope_read_clients</con:name><con:value>management.configuration.read.clients</con:value></con:property><con:property><con:name>scope_read_providers</con:name><con:value>management.configuration.read.providers</con:value></con:property><con:property><con:name>scope_read_properties</con:name><con:value>management.configuration.read.properties</con:value></con:property><con:property><con:name>scope_read_discovery</con:name><con:value>management.configuration.read.discovery</con:value></con:property><con:property><con:name>issuer</con:name><con:value>https://local.loginbuddy.net</con:value></con:property><con:property><con:name>provider</con:name><con:value>server_loginbuddy</con:value></con:property></con:properties><con:wssContainer/><con:oAuth2ProfileContainer/><con:oAuth1ProfileContainer/><con:sensitiveInformation/></con:soapui-project>